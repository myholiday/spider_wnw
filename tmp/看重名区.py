#!/usr/bin/env python# -*- coding: utf-8 -*-# Created by spider3 on 2018/5/10# Copyright (c) 2018 spider3. All rights reserved.import pymysqldef main():    connection = pymysql.connect(host='localhost',                                 user='root',                                 password='root',                                 db='feigo_data',                                 port=3306,                                 charset='utf8')    with connection.cursor() as cursor:        sql = "SELECT `name` FROM feigo_regions WHERE `name` IS NOT NULL "        cursor.execute(sql)        data = cursor.fetchall()        data = [one_data[0] for one_data in data]    li = []    chongfu = []    for region in data:        if region in li:            chongfu.append(region)        else:            li.append(region)    print(chongfu)    chongfu_id = []    with connection.cursor() as cursor:        for name in chongfu:            sql = "SELECT `id` FROM feigo_regions WHERE `name`='{}'".format(name)            cursor.execute(sql)            data = cursor.fetchall()            # print(data)            chongfu_id.extend(data)            # break    chongfu_id = list(set([i[0] for i in chongfu_id if len(str(i[0])) == 6]))    print(chongfu_id)    print(len(chongfu_id), len(chongfu))if __name__ == '__main__':    main()