#!/usr/bin/env python# -*- coding: utf-8 -*-# Created by spider3 on 2018/4/20# Copyright (c) 2018 spider3. All rights reserved.import requests_htmldef get_data():    # se = requests_html.HTMLSession()    # r = se.get("https://twitter.com/realDonaldTrump/status/987100052710674433?conversation_id=987100052710674433")    # # print(r.html.links)    # # print(r.html.absolute_links)    # # print("*"*60)    #    # text_element = r.html.xpath('//p[@class="TweetTextSize TweetTextSize--jumbo js-tweet-text tweet-text"]')    # print(text_element[0].text)    # print(type(text_element[0].text))    # # 替换回车    # text = text_element[0].text.replace("\n", "")    # # 删除图片    # text = text.split("pic.twitter.com")[0]    # # 删除视频    # text = text.split("https://")[0]    # text = text.split("http://")[0]    # print(text)    se = requests_html.HTMLSession()    se.headers['referer'] = 'https://www.google.com/'    se.get("http://www.baidu.com")    text = se.headers    print(text)    # text = "James Comey just threw Andrew McCabe “under the bus.” Inspector General’s Report on McCabe is a disaster for both of them! Getting a little (lot) of their own medicine?James Comey just threw Andrew McCabe “under the bus.” Inspector General’s Report on McCabe is a ?12389"def get140char(text):    sum = 0    new_text = ""    for i in text:        if sum > 275:            if len(text) > len(new_text):                print(len(new_text))                print(sum)                new_text = " ".join(new_text.split(" ")[:-1])                new_text += "..."            break        if ord(i) < 300:            sum += 1        else:            sum += 2        new_text += i    # print(new_text)    return new_textdef main():    pass    get_data()if __name__ == '__main__':    main()