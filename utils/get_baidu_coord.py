#!/usr/bin/env python# -*- coding: utf-8 -*-# Created by spider3 on 2018/3/7# Copyright (c) 2018 spider3. All rights reserved.import requestsimport jsonclass BaiduCoord(object):    def __init__(self, address, city_or_region=None):        self.address = address        self.city = city_or_region if city_or_region else None    # 获取百度shi十字坐标    def get_ten_coord(self):        data = {"qt": "gc", "wd": self.address}        response = requests.get("http://api.map.baidu.com", params=data)        response_json = json.loads(response.text)        # print(response_json)        coord = response_json["content"]["coord"]        self.ten_coord = coord        return coord    # 根据百度十字坐标转换成经纬度坐标    def get_jw_coord(self):        if self.city:  # 如果有限制省市区            url = 'http://api.map.baidu.com/geocoder/v2/'            data = {"ak": "mDml72vqmPtHmZHl7tus153lx9e1pg8A", 'output': 'json', 'address': self.address,                    "city": self.city}            response = requests.get(url, params=data)            response_json = json.loads(response.text)            if response_json["status"] == 0:                location = response_json["result"]["location"]                return {'x': location['lng'], 'y': location['lat']}        else:  # 没有限制省市区            coord = self.ten_coord["x"] + "," + self.ten_coord["y"]            data = {"from": 6, "to": 5, "ak": "mDml72vqmPtHmZHl7tus153lx9e1pg8A", "coords": coord}            url = "http://api.map.baidu.com/geoconv/v1/"            response = requests.get(url, params=data)            response_json = json.loads(response.text)            if response_json["status"] == 0:                return response_json["result"][0]def main():    bc = BaiduCoord("/安徽省/合肥市/庐江县/合肥市庐江县庐巢路112号")    print(bc.get_ten_coord())    print(bc.get_jw_coord())if __name__ == '__main__':    main()