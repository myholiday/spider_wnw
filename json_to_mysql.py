#!/usr/bin/env python# -*- coding: utf-8 -*-# Created by spider3 on 2018/3/6# Copyright (c) 2018 spider3. All rights reserved.import pymysqlimport jsondef conn():    connection = pymysql.connect(host='localhost',                                 user='root',                                 password='root',                                 db='my_test',                                 port=3306,                                 charset='utf8')    try:        with connection.cursor() as cursor:            f = open("./data/monalisa1.json","r")            json_data = json.loads(f.read())            f.close()            num = 1            for data in json_data["detail"]:                sql = "insert into feigo_shops(`id`,`name`,`address`,`phone_number`,`longitude`,`latitude`,`create_time`,`region_id_1`,`region_id_2`,`region_id_3`,`brand_id`,`preview_image`) value({},'{}','{}','{}',{},{},{},{},{},{},1320,'brands_images/full/1320.jpg')"\                    .format(num+71158,data["name"],data["address"],data["phone_number"],data["jw_coord"]["x"],data["jw_coord"]["y"],"NOW()",data["regionid1"],data["regionid2"],data["regionid3"])                cursor.execute(sql)                num += 1            connection.commit()    except Exception as e:        print(e)    finally:        connection.close()def main():    conn()if __name__ == '__main__':    main()